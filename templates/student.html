<!DOCTYPE html>
<html>
<head>
    <title>Student Dashboard</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="welcome">Welcome, {{ current_user.username }}</div>
    <h2>ACME University</h2>
    <a class="sign-out" href="{{ url_for('logout') }}">Sign Out</a>
    <div class="container">
    <div id="button-container">
        <button id="show-your-courses">Your Courses</button>
        <button id="show-all-courses">Add Course</button>
    </div>
    
    <table>
        <thead>
            <tr>
                <th>Course Name</th>
                <th>Teacher</th>
                <th>Time</th>
                <th>Students Enrolled</th>
                <th id="add-course-header" style="display: none">Add class</th>
            </tr>
        </thead>
        <tbody>
            {% for course in courses %}
                <tr>
                    <td>{{ course.class_name }}</td>
                    <td>{{ course.teacher_name }}</td>
                    <td>{{ course.time }}</td>
                    <td>{{ course.enrolled_students }} / {{ course.capacity }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    </div>
    <img alt="Walking Totoro" class="totoro" src="{{ url_for('static', filename='totoro.gif') }}">
    <footer>
        <small>&copy; 2023 <a href ="https://www.ucmerced.edu">UcMerced</a></small>
    </footer>

    <script>
        // 获取按钮元素
        const showYourCoursesButton = document.getElementById("show-your-courses");
        const showAllCoursesButton = document.getElementById("show-all-courses");
        const addCourseHeader = document.getElementById("add-course-header");

        // 添加事件监听器
        showYourCoursesButton.addEventListener("click", () => {
            addCourseHeader.style.display = "none"; // 隐藏"Add class"列
        });

        showAllCoursesButton.addEventListener("click", () => {
            addCourseHeader.style.display = "table-cell"; // 显示"Add class"列
        });
    </script>
</body>
</html>
